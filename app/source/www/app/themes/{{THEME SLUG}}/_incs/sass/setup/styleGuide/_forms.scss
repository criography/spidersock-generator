/* ===================================================================================
 * Style Guide:
 * -----------------------------------------------------------------------------------
 * IV. FORMS
 * @TODO Requires serious cleanup, documentation and organisation.
 * ===================================================================================


	/* ...........................
	 * VI#1. GENERAL
	 * ........................... */

		form{
			@extend %cf;
			position: relative;
		}

			fieldset{
				border        : 0;
				margin        : 0;
				padding       : $line-height * .33333 0 $line-height * .5;
				position      : relative;
			}





			form ul,
			.form-help{
				margin  : 0;
				padding : 0;
			}




			.fieldset--actions{
				border : none;
				height : 4em;
				clear  : both;

				button, input{
					margin-top:.75em;
				}
			}

			.fieldset--disclaimer,
			.fieldset--list{
				label{
					display     : inline;
					float       : none;
					width       : auto;
					font-weight : $fontWeight--base--bold;
				}
			}

			.fieldset--disabled{
				@include opacity(.25);
			}


				label,
				.label,
				legend{
					font-weight : $fontWeight--base--bold;
					display     : block;
					float       : none;
					width       : 100%;
					margin      : 0;
				}


				label,
				.label{
					cursor : pointer;
				}

				/* 1. Corrects color not being inherited in IE 8/9.
				 * 2. Remove padding so people aren't caught out if they zero out fieldsets. */
				legend{
					border  : 0; /* 1 */
					padding : $line-height * .33333 0 0; /* 2 */
				}

				/* 1. Corrects font family not being inherited in all browsers.
				 * 2. Corrects font size not being inherited in all browsers.
				 * 3. Addresses margins set differently in Firefox 4+, Safari 5, and Chrome */
				button,
				input,
				select,
				textarea{
					@include transition(
							color       .5s ease,
							background  .5s ease,
							border      .5s ease
					);
					font-size   : 1em;
					font-family : inherit;  /* 1 */
					margin      : 0;        /* 3 */
					border:0;
					border-radius:0;
					-webkit-border-radius: 0;
				}

				textarea{
					resize     : vertical;
					min-height : 10em;
				}

				.textarea--short{
					min-height: 7em !important;
				}

				input{
					height:$line-height * 1.5;
				}

				/* Addresses Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
				button,
				input{
					line-height : normal;
				}

				/* Re-set default cursor for disabled elements. */
				button[disabled],
				input[disabled]{
					cursor : default;
				}

				/* 1. Addresses box sizing set to `content-box` in IE 8/9.
				 * 2. Removes excess padding in IE 8/9. */
				[type="checkbox"],
				[type="radio"]{
					box-sizing    : border-box;    /* 1 */
					padding       : 0;             /* 2 */
					margin-right  :.5em;
				}

				/* 1. Addresses `appearance` set to `searchfield` in Safari 5 and Chrome.
				 * 2. Addresses `box-sizing` set to `border-box` in Safari 5 and Chrome. */
				[type="search"]{
					@include box-sizing(content-box);     /* 2 */
					-webkit-appearance : textfield;       /* 1 */
				}

				/* Removes inner padding and search cancel button in Safari 5 and Chrome on OS X. */
				[type="search"]::-webkit-search-cancel-button,
				[type="search"]::-webkit-search-decoration{
					-webkit-appearance : none;
				}

				/* Removes inner padding and border in Firefox 4+. */
				button::-moz-focus-inner,
				input::-moz-focus-inner{
					border  : 0;
					padding : 0;
				}

				/* 1. Removes default vertical scrollbar in IE 8/9.
				 * 2. Improves readability and alignment in all browsers. */
				textarea{
					overflow       : auto;    /* 1 */
					vertical-align : top;     /* 2 */
					height         : 150px;
				}

				[type="text"],
				[type="email"],
				[type="date"],
				[type="url"],
				[type="range"],
				[type="search"],
				[type="number"],
				[type="tel"],
				[type="time"],
				textarea,
				.input-range-wrapper,
				.input-combobox-wrapper input,
				select{
					display               : block;
					width                 : 100%;
					padding               : $line-height * .25;
					font-size             : 1em;
					border                : 1px solid #ddd;
					background            : $grey;
				}

				[type="text"],
				[type="email"],
				[type="date"],
				[type="url"],
				[type="search"],
				[type="number"],
				[type="tel"],
				[type="time"],
				textarea,
				select,
				.input-combobox-wrapper input{
					&:focus{
						background-color : #fff;
						outline    : 1px dotted $blue !important;
					}
				}

				[type="file"]{
					display  :block;
				}


				[type="text"],
				[type="email"],
				[type="url"],
				[type="search"],
				[type="tel"],
				[type="number"],
				[type="time"],
				textarea{
					padding-right:2.5em;
				}


				[type="range"],
				input.input-datepicker,
				input.input-datepicker-range{
					width : 8em;
				}






				/* range */

				.input-range-slider{
					width:85%;
					float:left;
					margin-top:$line-height * .25;
				}

				.input-range-wrapper{
					@extend %cf;

					width : 100% !important;

					[type="range"]{
						width:15%;
					}

				}





				/* datepicker */

				.input--date{
					-webkit-appearance:none;
				}


				.Zebra_DatePicker_Icon_Wrapper{
					width:13em;
					margin: 0 auto;
				}


				.input-datepicker-wrapper,
				.input-datepicker-range-wrapper{
					width    : 8em;
					position : relative;

					button{
						text-indent : -9000px;
						border      : none;
						background  : transparent;
					}
				}

				.input-datepicker-range-wrapper{
					float:left;
					margin-left : $line-height * .5;

					&:first-of-type{
						margin-left: 0;
					}
				}

					.input-datepicker,
					.input-datepicker-range{
						width:auto;
					}

					.input-datepicker-range{
						width  : 8em;
						float  : left;
						margin : 0 0 0 $line-height * .5;

						&:first-of-type{
							margin:0;
						}
					}


					.input-datepicker-wrapper .input-datepicker,
					.input-datepicker-range-wrapper .input-datepicker-range{
						width:100%;
					}



				/* select */

				select{
					display   : block;
					min-width : 25%;
					margin    : 0;
					font-size : 0.9em;
					padding   : 0.35em 0.25em;
				}






				.form-help{
					margin    : 0;
					font-size : 11px;
					color     : #999;
				}





			.panel--dropzone{
				border     : 1px solid $blue;
				width      : 100%;
				min-height : 8em;
				z-index    : 5;
				position   : relative;
			}

			.panel--dropzone__info{
				@include fill;
				@include abs($t : 8.5em);
				height      : auto;
				text-align  : center;
				color       : $blue;
				text-shadow : 0 1px $light--default;
				font-style  : italic;
				z-index     : 1;
			}

			.mzr-no-draganddrop,
			.lte-ie8{
				.panel--dropzone__info{
					display: none !important;
				}
			}

				.panel--dropzone__info__main{
					display        : block;
					text-transform : uppercase;
				}



     /* form validation through parsley */
		.parsley-error-list {
			display     : block;
			background  : $red;
			position    : relative;
			margin-top  : 2px;
			font-size   : .85em;
			padding     : .25em .5em;
			line-height : 1.375;
			margin-left : 0 !important;
			text-align  : center;
			z-index     : 50;

			&:before{
				@include triangle('up', $red, .5em, .5em);
				@include abs($t:-.45em, $l:50%);
				content:'';
				margin-left:-.45em;

			}

			li{
				display: list-item;
			}

		}







		/* applies to all form that have 2 columns*/
		.form--multiColumn{
			max-width : 960px;
			margin    : 3.5em auto 0;


				fieldset{
					text-align: left;
					vertical-align: top;
				}


				legend{
					//margin-bottom:0;
					margin-bottom : 0.125em;
					position: relative !important;
					float:none;
					padding:0;

				}


				label,
				.label,
				input,
				select,
				textarea{
					display   : block;
					width     : 100%;
					float     : none;
					margin    : 0;
					font-size : .9em;
				}



				.Zebra_DatePicker_Icon_Wrapper{
					display   : block;
					width     : 100%;
				}

				input,
				textarea,
				select{
					padding:.375em .65em;
				}

				input,
				select{
					height:2.75em;
				}


				select{
					font-variant   : normal;
					padding-top    : .5em;
					padding-bottom : .5em;
					text-transform : none;
					text-align     : left;
				}

				label,
				.label{
					@include resetSmallCaps;
					font-variant : small-caps;
					/*	font-size    : 1.3em; works well on Mac and in Canary, but os massive in FF and Win*/
					font-size:1em;
					margin       : 0 0 0 .5em;
					padding      : 0;
				}


				.checkbox--dotted--insideForm {
					padding-left : 1.5em;
					font-variant : normal;
					font-size    : 1em;
					line-height  : 1.75;
				}


				.checkbox--dotted--inline{
					@include inline-block;
					width        : auto;
					margin-right : 1em;
				}


			@media (min-width: emcalc(480)){
				.fieldset--actions{
					height:auto;
				}
			}


			@media (min-width: emcalc(640)){
				legend{
					margin-bottom:.1em;
				}

				.fieldset--actions{
					margin-top:.5em;
				}

			}



			@media (min-width: emcalc(768)){
				label,
				.label,
				input,
				select,
				textarea{
					display   : block;
					width     : 100%;
					float     : none;
					margin    : 0;
					font-size : .9em;
				}

				textarea{
					min-height : 8.75em;
				}

				label,
				.label{
					font-size: 1.25em;
					margin       : 0 0 .1em .5em;
				}


			}

			@media (min-width: emcalc(1024)){
				.fieldset--half {
					padding-bottom: .75em;
				}


					@include webkit(){
						label,
						.label{
							font-size: 1.5em;
						}
					}
			}

		}








		.form--multiColumn--grey{
			@extend .form--multiColumn;

			legend{
				letter-spacing : 0;
				font-size      : 3.175em;
				margin-bottom  : .3em;
				float          : left;
			}

			.label__smallprint{
				@include resetSmallCaps;
				display      : block;
				font-size    : 0.75em;
				font-variant : small-caps;
				margin       : -0.5em 0 0.25em;
				padding      : 0 0 0.1em 0.8em;
			}

			.label--floated--topRight{
				line-height : 1.125;
				margin-top  : -.25em;

				@media (max-width: emcalc(479)){
					.lineBreaker{
						display: inline;
					}
				}

				@media (min-width: emcalc(480)){
					line-height : 1.125;
					position    : absolute;
					right       : 0;
					text-align  : right;
					top         : 0.48em;
					width       : 50%;
				}
			}

			input,
			textarea,
			select{
				text-align : left;

				&,
				&:focus{
					border     : 1px solid $blue;
				}
			}

			.parsley-error-list{
				text-align : left;
				color      : $light--default;
			}

			.disclaimer__checkbox {
				text-transform : none;
				font-variant   : normal;
				font-size      : .75em;
				margin-top     : 1em;
				padding-left   : 2em;
				margin-left:0;


			}

			.button--yellow--large{
				margin-top: .25em;
			}


			@media (min-width: emcalc(480)){
				.fieldset--actions{
					height: auto;
				}
			}


			@media (min-width: emcalc(768)){

				legend{
					font-size:4em;
				}


				textarea{
					min-height: 14.65em;

					@include firefox(){
						min-height: 14.2em;
					}
				}


				label,
				.label{
					font-size: 1.125em;

					@include webkit(){
						font-size: 1.25em;
					}
				}

				.fieldset--disclaimer{
					margin-top: .75em;

					label,
					.label{
						margin-left:0;
					}

					& + .parsley-error-list{
						left: 1.75em;
						width: 45%;
					}
				}




				.fieldset--half{
					&,
					&:nth-child(2){
						@include inline-block;
						float        : left;
						margin-right : gutter();
					}
				}

				.fieldset--right{
					float: right;
					margin-right:0;
				}

				.fieldset--rowUp{
					margin-top: -5.4em;  /* hacky, shame on me */
				}

				.fieldset--rowUp--double{
					margin-top: -10.7em;  /* hacky, shame on me */

					@include firefox(){
						margin-top: -10.3em;  /* even more hacky, shame on me */
					}
				}

			}



			@media (min-width: emcalc(1024)){
				legend{
					font-size:4em;
				}

				label,
				.label{
					font-size: 1.125em;

					@include webkit(){
						font-size: 1.25em;
					}
				}
			}


			@media (min-width: emcalc(1248)){
				legend{
					font-size:5em;
				}

				label,
				.label{
					font-size: 1.125em;

					@include webkit(){
						font-size: 1.25em;
					}
				}
			}

		}



.lte-ie8{
	.form--multiColumn--grey{

		label,
		.label{
			background: $grey;
		}


		.disclaimer__checkbox{
			background: $light--default !important;
		}

		.fieldset--half{
			&,
			&:nth-child(2){
				@include inline-block;
				float        : left;
				margin-right : gutter();
				padding-bottom: 0.75em;
			}
		}

		.fieldset--right{
			float: right;
			margin-right:0;
		}

		.fieldset--rowUp{
			margin-top: -5.4em;  /* hacky, shame on me */
		}

		.fieldset--rowUp--double{
			margin-top: -9.7em;  /* hacky, shame on me */
		}
	}
}








		@media (min-width: emcalc(640)) {

			fieldset {
				padding: .2em 0;
			}

			label, .label, legend{
				width  : 30%;
				float  : left;
				margin : $line-height * .5 0;
			}

				legend{
					margin-top  : $line-height * .666666;
					padding-top : 0;
				}

				.fieldset--list{

					[type="checkbox"],
					[type="radio"]{
						margin: $line-height * .33333 $line-height * .33333 $line-height * .33333 0;
					}

					ul{

					}
				}



			input,
			select,
			textarea,
			.input-range-wrapper,
			.input-datepicker-wrapper,
			.input-datepicker-range-wrapper,
			input.input-datepicker,
			input.input-datepicker-range,
			[type="submit"],
			form ul{
				margin-top : $line-height * .5;
			}



			form ul,
			textarea,
			.input-range-wrapper,
			.input-datepicker-wrapper,
			.input-datepicker-range-wrapper,
			[type="checkbox"],
			[type="submit"]{
				margin-bottom : $line-height * .5;
			}


			form ul,
			.form-help,
			.fieldset--actions input,
			.fieldset--disclaimer label,
			select{
				margin-left : 30%
			}


			[type="text"],
			[type="email"],
			[type="url"],
			[type="file"],
			[type="search"],
			textarea,
			.input-range-wrapper{
				width : 70%;
				margin-left : 30%
			}


			select{
				width : 300px;
			}


			.input-range-wrapper{
				width : 70% !important;

				[type="range"]{
					margin-top:0;
				}
			}


			.input-datepicker-wrapper,
			[type="range"]{
				margin-left : 30%;
			}

				input.input-datepicker,
				input.input-datepicker-range{
					width  : 8em;
				}

				input.input-datepicker-range{

					margin-left : $line-height * .5;

					&:first-of-type{
						margin: $line-height * .5 0 0;
					}
				}


			.input-datepicker-wrapper input.input-datepicker{
				margin-left:0;
			}

			.input-datepicker-range-wrapper input.input-datepicker-range{
				margin:0;
			}


		}













		@media (min-width: emcalc(1024)) {

			label, .label, legend{
				width  : 274px;
				float  : left;
				margin : $line-height * .5 0;
			}

			.fieldset--actions input,
			.fieldset--disclaimer label,
			form ul,
			.form-help,
			select{
				margin-left : 296px;
			}


			[type="text"],
			[type="email"],
			[type="url"],
			[type="file"],
			[type="search"],
			textarea{
				/*@include placeholder{
					color: $grey-dark;
				}*/
				width       : 570px;
				margin-left : 296px;
			}

			.input-range-wrapper,
			.input-datepicker-wrapper,
			.input-datepicker-range-wrapper,
			[type="range"]{
				margin-left : 296px;
			}



			.input-range-wrapper{
				width : 570px !important;
			}


			input.input-datepicker,
			input.input-datepicker-range{
				width  : 8em;
			}


			input.input-datepicker-range{

				margin-left : $line-height * .5;

				&:first-of-type{
					margin: $line-height * .5 0 0 22px;
				}
			}


			.input-datepicker-range-wrapper{
				margin: $line-height * .5 1em 0 0;

				input.input-datepicker-range{
					margin:0;
				}

				&:first-of-type{
					margin-left:22px;
				}
			}
		}



		.input-hidden{
			@include box-sizing(content-box);
			@include opacity(0);
			width       : 1px !important;
			height      : 1px !important;
			display     : block !important;
			font-size   : 0 !important;
			line-height : 0 !important;
			border      : 0 !important;
			margin      : -46px -1px -1px !important;
			padding     : 0 !important;
			top         : 0 !important;
			left        : 0 !important;
			clip        : rect(0 0 0 0) !important;
		}



		.input--visuallyHidden{
			@include box-sizing(content-box);
			@include opacity(0);
			border  : 0 !important;
			height  : 0 !important;
			margin  : 0 !important;
			outline : 0 none !important;
			padding : 0 !important;
			width   : 100% !important;
		}
